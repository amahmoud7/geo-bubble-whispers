import{j as m,c}from"./index-Cak4IDZW.js";import{r as o}from"./vendor-C9QPK5wj.js";import{a as j,j as d,P as f,e as y,h as p}from"./ui-WyaPNYUs.js";var v="Avatar",[E,V]=j(v),[I,b]=E(v),A=o.forwardRef((a,e)=>{const{__scopeAvatar:r,...t}=a,[n,s]=o.useState("idle");return d.jsx(I,{scope:r,imageLoadingStatus:n,onImageLoadingStatusChange:s,children:d.jsx(f.span,{...t,ref:e})})});A.displayName=v;var N="AvatarImage",w=o.forwardRef((a,e)=>{const{__scopeAvatar:r,src:t,onLoadingStatusChange:n=()=>{},...s}=a,l=b(N,r),i=k(t,s.referrerPolicy),u=y(g=>{n(g),l.onImageLoadingStatusChange(g)});return p(()=>{i!=="idle"&&u(i)},[i,u]),i==="loaded"?d.jsx(f.img,{...s,ref:e,src:t}):null});w.displayName=N;var x="AvatarFallback",h=o.forwardRef((a,e)=>{const{__scopeAvatar:r,delayMs:t,...n}=a,s=b(x,r),[l,i]=o.useState(t===void 0);return o.useEffect(()=>{if(t!==void 0){const u=window.setTimeout(()=>i(!0),t);return()=>window.clearTimeout(u)}},[t]),l&&s.imageLoadingStatus!=="loaded"?d.jsx(f.span,{...n,ref:e}):null});h.displayName=x;function k(a,e){const[r,t]=o.useState("idle");return p(()=>{if(!a){t("error");return}let n=!0;const s=new window.Image,l=i=>()=>{n&&t(i)};return t("loading"),s.onload=l("loaded"),s.onerror=l("error"),s.src=a,e&&(s.referrerPolicy=e),()=>{n=!1}},[a,e]),r}var S=A,L=w,R=h;const C=o.forwardRef(({className:a,...e},r)=>m.jsxDEV(S,{ref:r,className:c("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a),...e},void 0,!1,{fileName:"/Users/akrammahmoud/geo-bubble-whispers/geo-bubble-whispers/src/components/ui/avatar.tsx",lineNumber:10,columnNumber:3},void 0));C.displayName=S.displayName;const _=o.forwardRef(({className:a,...e},r)=>m.jsxDEV(L,{ref:r,className:c("aspect-square h-full w-full",a),...e},void 0,!1,{fileName:"/Users/akrammahmoud/geo-bubble-whispers/geo-bubble-whispers/src/components/ui/avatar.tsx",lineNumber:25,columnNumber:3},void 0));_.displayName=L.displayName;const M=o.forwardRef(({className:a,...e},r)=>m.jsxDEV(R,{ref:r,className:c("flex h-full w-full items-center justify-center rounded-full bg-muted",a),...e},void 0,!1,{fileName:"/Users/akrammahmoud/geo-bubble-whispers/geo-bubble-whispers/src/components/ui/avatar.tsx",lineNumber:37,columnNumber:3},void 0));M.displayName=R.displayName;export{C as A,_ as a,M as b};
